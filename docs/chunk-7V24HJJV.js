import{A as p,B as y,C as w,D as B,E as R,F as D,G as Y,H as N,I as f,J as M,K as Z,L as ee,P as te,R as ie,S as ne,T as oe,U,X as E,Y as j,_ as re,a as k,b as z,c as A,d as J,e as H,f as C,g as K,h as L,i as G,j as h,k as T,l as Q,m as W,n as F,o as s,p as g,q as u,r as m,s as r,t,u as d,v as X,w as b,x as S,y as P,z as a}from"./chunk-5GYCQRPL.js";var v=(()=>{let e=class e{constructor(i){this.http=i,this.apiURL="https://restcountries.com/v3.1",this.cacheStore={byCapital:{term:"",countries:[]},byCountries:{term:"",countries:[]},byRegion:{region:"",countries:[]}},this.loadFromLocalStorage()}searchCapital(i){let o=`${this.apiURL}/capital/${i}`;return this.getCountriesRequest(o).pipe(C(l=>this.cacheStore.byCapital={term:i,countries:l}),C(()=>this.saveToLocalStorage()))}searchCountry(i){let o=`${this.apiURL}/name/${i}`;return this.getCountriesRequest(o).pipe(C(l=>this.cacheStore.byCountries={term:i,countries:l}),C(()=>this.saveToLocalStorage()))}searchRegion(i){let o=`${this.apiURL}/region/${i}`;return this.getCountriesRequest(o).pipe(C(l=>this.cacheStore.byRegion={region:i,countries:l}),C(()=>this.saveToLocalStorage()))}getCountriesRequest(i){return this.http.get(i).pipe(A(o=>(console.log(o),k([]))),J(1e3))}searchCountryByAlphaCode(i){let o=`${this.apiURL}/alpha/${i}`;return this.http.get(o).pipe(z(l=>l.length>0?l[0]:null),A(l=>(console.log(l),k(null))))}saveToLocalStorage(){localStorage.setItem("cacheStore",JSON.stringify(this.cacheStore))}loadFromLocalStorage(){localStorage.getItem("cacheStore")&&(this.cacheStore=JSON.parse(localStorage.getItem("cacheStore")))}};e.\u0275fac=function(o){return new(o||e)(G(ee))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var ue=n=>["/countries/by",n];function he(n,e){n&1&&(r(0,"div",2),a(1,` No Countries to list
`),t())}function ge(n,e){if(n&1&&(r(0,"tr")(1,"td"),a(2),t(),r(3,"td"),a(4),t(),r(5,"td"),a(6),t(),r(7,"td"),a(8),B(9,"number"),t(),r(10,"td"),d(11,"img",5),t(),r(12,"td")(13,"a",6),a(14,"info"),t()()()),n&2){let c=e.$implicit,i=e.index;s(2),p(i+1),s(2),p(c.name.common),s(2),p(c.capital),s(2),p(R(9,7,c.population)),s(3),m("src",c.flags.svg,F)("alt",c.name.common),s(2),m("routerLink",w(9,ue,c.cca3))}}function fe(n,e){if(n&1&&(r(0,"table",3)(1,"thead")(2,"tr")(3,"th"),a(4,"#"),t(),r(5,"th"),a(6,"Name"),t(),r(7,"th"),a(8,"Capital"),t(),r(9,"th"),a(10,"Population"),t(),r(11,"th"),a(12,"Flag"),t(),d(13,"th"),t()(),r(14,"tbody"),u(15,ge,15,11,"tr",4),t()()),n&2){let c=S();s(15),m("ngForOf",c.countries)}}var I=(()=>{let e=class e{constructor(){this.countries=[]}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=h({type:e,selectors:[["countries-table"]],inputs:{countries:"countries"},decls:3,vars:2,consts:[["table",""],["class","alert alert-warning text-center",4,"ngIf","ngIfElse"],[1,"alert","alert-warning","text-center"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[3,"src","alt"],["routerLinkActive","router-link-active",3,"routerLink"]],template:function(o,l){if(o&1&&u(0,he,2,0,"div",1)(1,fe,16,1,"ng-template",null,0,D),o&2){let _=P(2);m("ngIf",l.countries.length===0)("ngIfElse",_)}},dependencies:[N,f,ne,oe,M],styles:["img[_ngcontent-%COMP%]{width:30px}"]});let n=e;return n})();function ve(n,e){n&1&&d(0,"shared-loading-spinner")}var se=(()=>{let e=class e{constructor(i){this.countriesService=i,this.countries=[],this.isLoading=!1,this.initialValue=""}ngOnInit(){this.countries=this.countriesService.cacheStore.byCapital.countries,this.initialValue=this.countriesService.cacheStore.byCapital.term}searchByCapital(i){this.isLoading=!0,this.countriesService.searchCapital(i).subscribe(o=>{this.countries=o,this.isLoading=!1}),console.log(`From ByCapitalPage ---> ${i}`)}};e.\u0275fac=function(o){return new(o||e)(g(v))},e.\u0275cmp=h({type:e,selectors:[["app-by-capital-page"]],decls:12,vars:3,consts:[[1,"row"],[1,"col"],["placeholder","Search by Capital",3,"onDebounce","initialValueSB"],[4,"ngIf"],[3,"countries"]],template:function(o,l){o&1&&(r(0,"div")(1,"h2"),a(2,"By capital"),t(),d(3,"hr"),t(),r(4,"div",0)(5,"div",1)(6,"shared-search-box",2),b("onDebounce",function(V){return l.searchByCapital(V)}),t()()(),r(7,"div",0)(8,"div",1),d(9,"hr"),u(10,ve,1,0,"shared-loading-spinner",3),d(11,"countries-table",4),t()()),o&2&&(s(6),m("initialValueSB",l.initialValue),s(4),m("ngIf",l.isLoading),s(),m("countries",l.countries))},dependencies:[f,E,j,I]});let n=e;return n})();function Ce(n,e){n&1&&d(0,"shared-loading-spinner")}var ce=(()=>{let e=class e{constructor(i){this.countriesService=i,this.countries=[],this.isLoading=!1,this.initialValue=""}ngOnInit(){this.countries=this.countriesService.cacheStore.byCountries.countries,this.initialValue=this.countriesService.cacheStore.byCountries.term}searchByCountry(i){this.isLoading=!0,this.countriesService.searchCountry(i).subscribe(o=>{this.countries=o,this.isLoading=!1}),console.log(`From ByCountryPage ---> ${i}`)}};e.\u0275fac=function(o){return new(o||e)(g(v))},e.\u0275cmp=h({type:e,selectors:[["app-by-country-page"]],decls:11,vars:3,consts:[[1,"row"],[1,"col"],["placeholder","Search by Country name",3,"onDebounce","initialValueSB"],[4,"ngIf"],[3,"countries"]],template:function(o,l){o&1&&(r(0,"h2"),a(1,"By country name"),t(),d(2,"hr"),r(3,"div",0)(4,"div",1)(5,"shared-search-box",2),b("onDebounce",function(V){return l.searchByCountry(V)}),t()()(),r(6,"div",0)(7,"div",1),u(8,Ce,1,0,"shared-loading-spinner",3),d(9,"hr")(10,"countries-table",4),t()()),o&2&&(s(5),m("initialValueSB",l.initialValue),s(3),m("ngIf",l.isLoading),s(2),m("countries",l.countries))},dependencies:[f,E,j,I]});let n=e;return n})();var Se=n=>({"btn-secondary":n});function xe(n,e){if(n&1){let c=X();r(0,"button",6),b("click",function(){let o=Q(c).$implicit,l=S();return W(l.searchByRegion(o))}),a(1),t()}if(n&2){let c=e.$implicit,i=S();m("ngClass",w(2,Se,i.selectedRegion===c)),s(),y(" ",c," ")}}function be(n,e){n&1&&d(0,"shared-loading-spinner")}var le=(()=>{let e=class e{constructor(i){this.countriesService=i,this.countries=[],this.regions=["Africa","Americas","Asia","Europe","Oceania"],this.isLoading=!1}ngOnInit(){this.countries=this.countriesService.cacheStore.byRegion.countries,this.selectedRegion=this.countriesService.cacheStore.byRegion.region}searchByRegion(i){this.selectedRegion=i,this.isLoading=!0,this.countriesService.searchRegion(i).subscribe(o=>{this.countries=o,this.isLoading=!1}),console.log(`From ByCountryPage ---> ${i}`)}};e.\u0275fac=function(o){return new(o||e)(g(v))},e.\u0275cmp=h({type:e,selectors:[["app-by-region-page"]],decls:11,vars:3,consts:[[1,"row"],[1,"row","justify-content-around"],["class","col btn m-1 ",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col"],[4,"ngIf"],[3,"countries"],[1,"col","btn","m-1",3,"click","ngClass"]],template:function(o,l){o&1&&(r(0,"h2"),a(1,"By region/continent name"),t(),d(2,"hr"),r(3,"div",0)(4,"div",1),u(5,xe,2,4,"button",2),t()(),r(6,"div",0)(7,"div",3),u(8,be,1,0,"shared-loading-spinner",4),d(9,"hr")(10,"countries-table",5),t()()),o&2&&(s(5),m("ngForOf",l.regions),s(3),m("ngIf",l.isLoading),s(2),m("countries",l.countries))},dependencies:[Y,N,f,E,I]});let n=e;return n})();function Ee(n,e){if(n&1&&(r(0,"div")(1,"div",2)(2,"div",3)(3,"h2")(4,"strong"),a(5),t()(),d(6,"hr"),t()(),r(7,"div",2)(8,"div",4)(9,"h3"),a(10,"Information"),t(),r(11,"ul",5)(12,"li",6)(13,"strong"),a(14,"Population"),t(),a(15),B(16,"number"),t(),r(17,"li",6)(18,"strong"),a(19,"Area"),t(),a(20),B(21,"number"),t(),r(22,"li",6)(23,"strong"),a(24,"Official Name"),t(),a(25),t(),r(26,"li",6)(27,"strong"),a(28,"Capital"),t(),a(29),t(),r(30,"li",6)(31,"strong"),a(32,"Code"),t(),a(33),t()()(),r(34,"div",7)(35,"h5"),a(36,"Flag"),t(),d(37,"br")(38,"img",8),t()(),r(39,"div",9)(40,"div",4)(41,"h3"),a(42,"Translations"),t(),r(43,"div",10)(44,"span",11),a(45),t(),r(46,"span",11),a(47),t(),r(48,"span",11),a(49),t(),r(50,"span",11),a(51),t(),r(52,"span",11),a(53),t(),r(54,"span",11),a(55),t(),r(56,"span",11),a(57),t(),r(58,"span",11),a(59),t(),r(60,"span",11),a(61),t(),r(62,"span",11),a(63),t(),r(64,"span",11),a(65),t(),r(66,"span",11),a(67),t(),r(68,"span",11),a(69),t()()()()()),n&2){let c=S();s(5),p(c.country.name.common),s(10),y(" ",R(16,21,c.country.population)," "),s(5),y(" ",R(21,23,c.country.area)," Km2 "),s(5),y(" ",c.country.name.official," "),s(4),y(" ",c.country.capital," "),s(4),y(" ",c.country.cca3," "),s(5),m("src",c.country.flags.svg,F)("alt",c.country.name.common),s(7),p(c.country.translations.ara.common),s(2),p(c.country.translations.bre.common),s(2),p(c.country.translations.ces.common),s(2),p(c.country.translations.cym.common),s(2),p(c.country.translations.deu.common),s(2),p(c.country.translations.est.common),s(2),p(c.country.translations.fin.common),s(2),p(c.country.translations.ita.common),s(2),p(c.country.translations.kor.common),s(2),p(c.country.translations.per.common),s(2),p(c.country.translations.jpn.common),s(2),p(c.country.translations.rus.common),s(2),p(c.country.translations.ita.common)}}function Ie(n,e){n&1&&(r(0,"div",12),a(1," Espere por favor "),t())}var me=(()=>{let e=class e{constructor(i,o,l){this.activatedRoute=i,this.countriesService=o,this.router=l}ngOnInit(){this.activatedRoute.params.pipe(H(({id:i})=>this.countriesService.searchCountryByAlphaCode(i))).subscribe(i=>i?(console.log(i),this.country=i):this.router.navigateByUrl(""))}searchCountry(i){this.countriesService.searchCountryByAlphaCode(i).subscribe(o=>{console.log({country:o})})}};e.\u0275fac=function(o){return new(o||e)(g(te),g(v),g(ie))},e.\u0275cmp=h({type:e,selectors:[["app-country-page"]],decls:3,vars:2,consts:[["loading",""],[4,"ngIf","ngIfElse"],[1,"row"],[1,"col-12"],[1,"col"],[1,"list-group"],[1,"list-group-item"],[1,"col-4"],[1,"img-thumbnail",3,"src","alt"],[1,"row","mt-2"],[1,"d-flex","flex-wrap","p-1"],[1,"badge","bg-primary","m-1"],[1,"alert","alert-info","text-center","fs-5","m-4"]],template:function(o,l){if(o&1&&u(0,Ee,70,25,"div",1)(1,Ie,2,0,"ng-template",null,0,D),o&2){let _=P(2);m("ngIf",l.country)("ngIfElse",_)}},dependencies:[f,M]});let n=e;return n})();var _e=[{path:"by-capital",component:se},{path:"by-country",component:ce},{path:"by-region",component:le},{path:"by/:id",component:me},{path:"**",redirectTo:"by-capital"}],pe=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=T({type:e}),e.\u0275inj=L({imports:[U.forChild(_e),U]});let n=e;return n})();var Ye=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=T({type:e}),e.\u0275inj=L({imports:[Z,pe,re]});let n=e;return n})();export{Ye as CountriesModule};
